{% extends 'base.html.twig' %}

{% block title %} Nos Réalisations
{% endblock %}

{% block body %}

	<div class="work work-realization container mt-4 service-reveal">
		<div>
			<h2>Nos Réalisations</h2> 
			<h3>Trier par catégorie:  </h3>   
			<div class="wrapper-realization">
				<div class="nav">
					<div class="items">
						<select class="category-dropdown" 
							data-realization-path="{{ path('app_realization') }}" 
							data-category-path-template="{{ path('app_category_show_realization', {slug: 'REPLACE_ME' }) }}">
						<option value="active">Tout</option>
						{% for categorie in categories %}
							<option value="{{ categorie.slug }}">{{ categorie.name }}</option>
						{% endfor %}
					</select>
					</div>
				</div>
			</div>
			<div id="prest-list" class="service-reveal">
				{% include 'pages/realization/_single_realization.html.twig'%}
			</div>	
		</div>
		<div class="container">
			<div class="row">
				<div class="d-flex align-items-center justify-content-center">
					{{ knp_pagination_render(realizations) }}
				</div>
			</div>
		</div>
	</div>

<script>
	document.querySelector('.category-dropdown').addEventListener('change', function(e) {
    if(e.target.value === "active") {
        window.location.href = "{{ path('app_realization') }}";
    } else {
        window.location.href = "{{ path('app_category_show_realization', {slug: 'REPLACE_ME' }) }}".replace('REPLACE_ME', e.target.value);
    }
});
</script>
{% endblock %}

